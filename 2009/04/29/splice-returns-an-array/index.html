<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Ghijklmno..</title>
    <meta name="description" content="The blog of Tom Morgan">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="//cloud.typography.com/6272452/793286/css/fonts.css" />
    <link rel="stylesheet" href="/ghijklmno/css/styles.css">
    <!-- <script src="/js/modernizr.js"></script> -->
</head>
<body>
<header class="site-header" id="header">
        <h1 class="logo"><a href="/">Ghijklmno..</a></h1> 
        <p class="sub-heading">This is <a href="#">Tom Morgan</a>'s blog</p>
</header>
<main>
  
  <div class="main__content">
      <h1 class="post__title">splice returns an array!</h1>
      <p class="post__date">&mdash;
                
        29th
          
        April 2009 
      </p>
      <div class="post__content content"><!-- more -->




<p>This one caught me out for a long time today.</p>




<p>I have an array of Objects which I want to jumble up a bit. AS3 doesn't come with a randomise (or randomize in the US!) function so I Googled around a bit to find one. The following came from some site somewhere and is no doubt a very well intentioned piece of code.</p>




<pre>function randomizeArray(array:Array):Array
{
    var newArray:Array = new Array();
    while(array.length > 0)
    {
         newArray.push(array.splice(Math.floor(Math.random()*array.length), 1));
    }
    return newArray;
}</pre>


<p>So, you can kind of see what it&#8217;s doing right. Take an array. While your way through it removing one item at a time by choosing a random item using the length of the array. Each time the length of the array shortens by one. You add each item to a new array and once your old array is empty return your newly random array. Sweet!</p></p>

<p>Only splice returns an array! Splice returns an array!! Do you hear?</p>




<p>So your newly randomised array isn't full of your objects it&#8217;s full of lots of little arrays each containing one item which is your object. This is not fine. You try and do anything with those items (inside their arrays) and you can't. Cos they're inside arrays.</p>




<p>Which would be fine if you realised they were inside arrays... but I didn't.</p>




<p>Took me ages to work it out, because when you trace the blasted things out the way Flash traces single item arrays makes it look like it&#8217;s the object itself. You don't see that it&#8217;s inside an array.</p>




<p>*sigh*</p>



</div>    
      <div class="post__nextprev cf">
         
        <a class="link prev" href="/2009/02/11/localtoglobal/"><span class="icon-arrow-left"></span> localToGlobal</a> 
         
         
          <a class="link next" href="/2009/09/13/tedxleeds/">#tedxleeds <span class="icon-arrow-right"></span></a> 
         
      </div>
  </div>  

</main>

<p class="archive-link link"><a href="/archive/">Archive</a></p>

<!-- <script src="/js/all.min.js"></script> -->

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. 
<script>
  (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-XXXXX-X');ga('send','pageview');
</script>
-->
<script type='text/javascript' id="__bs_script__">//<![CDATA[
document.write("<script async src='http://localhost:3000/browser-sync/browser-sync-client.2.0.0-rc3.js'><\/script>");
//]]></script>
</body>
</html>
